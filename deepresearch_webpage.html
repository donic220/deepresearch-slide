<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>å¤§ç”°åŒºç™º ãŠã™ã™ã‚ã‚µã‚¦ãƒŠãƒ»ãƒ•ã‚¡ã‚¤ãƒ³ãƒ€ãƒ¼</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;700&display=swap" rel="stylesheet">
  <!-- Chosen Palette: Warm Neutrals & Serene Blue -->
  <!-- Application Structure Plan: A user-centric, interactive dashboard called "Sauna Concierge". The core is a filtering system based on user priorities (e.g., "Ultimate Totonoi", "Relax All Day") which dynamically updates a grid of sauna information cards. Clicking a card reveals a detailed side panel, avoiding page reloads. A secondary section provides interactive charts for visual comparison of key metrics like sauna and water temperatures. This task-oriented structure transforms passive reading into an active discovery tool, making it far more usable and engaging than a linear report. -->
  <!-- Visualization & Content Choices: 
        - Facility List -> Goal: Organize/Filter -> Viz: Interactive Cards -> Interaction: Click filters to update card grid. Justification: Most direct way for users to find what they want. Method: JS filtering logic.
        - Sauna Temp, Water Temp, Price -> Goal: Compare/Relationships -> Viz: Interactive Scatter Plot -> Interaction: Hover for tooltips, click to highlight. Justification: At-a-glance comparison of key metrics. Library: Chart.js.
        - Key Features (Onsen, etc.) -> Goal: Inform/Compare -> Viz: Icons/Tags on cards -> Interaction: Can be used for filtering. Justification: Quick visual cues. Method: Unicode characters with Tailwind styling.
        - Detailed Descriptions -> Goal: Inform -> Viz: Off-canvas side panel -> Interaction: Click card to open. Justification: Keeps main view clean, provides details on demand. Method: JS to control visibility. 
        - Full Summary Table -> Goal: Organize -> Viz: Sortable HTML table -> Justification: For data-oriented users. Method: JS for sorting. -->
  <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
  <style>
    body {
      font-family: 'Noto Sans JP', sans-serif;
      background-color: #f8f9fa;
    }

    .chart-container {
      position: relative;
      width: 100%;
      max-width: 800px;
      margin-left: auto;
      margin-right: auto;
      height: 400px;
      max-height: 60vh;
    }

    @media (min-width: 768px) {
      .chart-container {
        height: 500px;
      }
    }

    #details-panel {
      transition: transform 0.3s ease-in-out;
      transform: translateX(100%);
      box-shadow: -10px 0 20px -10px rgba(0, 0, 0, 0.1);
    }

    #details-panel.is-visible {
      transform: translateX(0);
    }

    .priority-btn.active {
      background-color: #3b82f6;
      color: white;
      border-color: #3b82f6;
    }

    .tag {
      display: inline-block;
      padding: 0.25rem 0.75rem;
      border-radius: 9999px;
      font-size: 0.75rem;
      font-weight: 700;
    }
  </style>
</head>

<body class="bg-slate-50 text-gray-800">

  <div id="app-container">
    <header class="bg-white shadow-sm sticky top-0 z-20">
      <div class="container mx-auto px-4 py-4">
        <h1 class="text-2xl md:text-3xl font-bold text-center text-gray-700">
          <span class="text-blue-500">å¤§ç”°åŒºç™º</span> ç©¶æ¥µã®ã‚µã‚¦ãƒŠãƒ»ã‚³ãƒ³ã‚·ã‚§ãƒ«ã‚¸ãƒ¥
        </h1>
        <p class="text-center text-gray-500 mt-1 text-sm md:text-base">ã‚ãªãŸã®æ°—åˆ†ã«ã´ã£ãŸã‚Šã®ã€Œã¨ã¨ã®ã„ã€ã‚’è¦‹ã¤ã‘ã‚ˆã†</p>
      </div>
    </header>

    <main class="container mx-auto p-4 md:p-8">
      <section id="concierge" class="mb-12">
        <div class="bg-white p-6 rounded-xl shadow-lg">
          <h2 class="text-xl font-bold mb-4 text-center text-gray-700">ä»Šæ—¥ã®æ°—åˆ†ã¯ï¼Ÿ</h2>
          <p class="text-center text-gray-600 mb-6">ã‚ãªãŸã®ç›®çš„ã«åˆã‚ã›ã¦ã€ãŠã™ã™ã‚ã®ã‚µã‚¦ãƒŠã‚’çµã‚Šè¾¼ã¿ã¾ã™ã€‚</p>
          <div id="priority-filters" class="flex flex-wrap justify-center gap-2 md:gap-4">
          </div>
        </div>
      </section>

      <section id="results" class="mb-12">
        <div id="sauna-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
        </div>
      </section>

      <section id="comparison" class="mb-12">
        <div class="bg-white p-4 md:p-6 rounded-xl shadow-lg">
          <h2 class="text-xl font-bold mb-2 text-center text-gray-700">ã‚µã‚¦ãƒŠæ€§èƒ½æ¯”è¼ƒãƒãƒ£ãƒ¼ãƒˆ</h2>
          <p class="text-center text-gray-600 mb-6">ã‚µã‚¦ãƒŠæ¸©åº¦ã¨æ°´é¢¨å‘‚æ¸©åº¦ã®é–¢ä¿‚æ€§ã‚’ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«ã§æ¯”è¼ƒã€‚ãƒãƒ–ãƒ«ã®å¤§ãã•ã¯æ–™é‡‘å¸¯ã‚’è¡¨ã—ã¾ã™ã€‚</p>
          <div class="chart-container">
            <canvas id="saunaChart"></canvas>
          </div>
        </div>
      </section>
    </main>
  </div>

  <div id="details-panel" class="fixed top-0 right-0 w-full md:w-1/2 lg:w-1/3 h-full bg-white z-50 overflow-y-auto">
    <div id="details-content" class="p-6">
    </div>
    <button id="close-panel-btn"
      class="absolute top-4 right-4 text-gray-500 hover:text-gray-800 text-3xl">&times;</button>
  </div>
  <div id="details-overlay" class="fixed inset-0 bg-black bg-opacity-50 z-40 hidden"></div>

  <script>
    const saunaData = [
      { id: 1, name: 'å¤©ç„¶æ¸©æ³‰ å¹³å’Œå³¶', area: 'å¤§ç”°åŒº', access: 'å¤§æ£®é§…ã‹ã‚‰ãƒã‚¹ç´„10åˆ†', price: 2400, sauna_temp: 98, water_temp: 16.5, rouryu: true, gaikiyoku: 'â–³', onsen: 'â—', features: '24æ™‚é–“å–¶æ¥­ã€1ä¸‡å†Šã®æ¼«ç”»ã€ç©ºæ¸¯é€è¿', recommendation: 'ä¸€æ—¥ç™’ã•ã‚ŒãŸã„', description: 'ãƒªã‚¾ãƒ¼ãƒˆã‚¹ã‚¿ã‚¤ãƒ«ã®ã‚¹ãƒ‘æ–½è¨­ã€‚24æ™‚é–“å–¶æ¥­ã§ã€ã‚µã‚¦ãƒŠã¯ã‚‚ã¡ã‚ã‚“ã€1ä¸‡å†Šã‚’è¶…ãˆã‚‹æ¼«ç”»ã€è¤‡æ•°ã®ãƒ¬ã‚¹ãƒˆãƒ©ãƒ³ã€å²©ç›¤æµ´ã€åºƒå¤§ãªä¼‘æ†©ãƒ©ã‚¦ãƒ³ã‚¸ã¨ã€ä¸€æ—¥ã§ã¯éŠã³ãã‚Œãªã„ã»ã©ã®è¨­å‚™ãŒæƒã†ã€‚ç¾½ç”°ç©ºæ¸¯ã¸ã®é€è¿ãƒã‚¹ä»˜ããƒ—ãƒ©ãƒ³ã‚‚æ—…è¡Œè€…ã«äººæ°—ã€‚', details: { sauna: 'é«˜æ¸©ã‚µã‚¦ãƒŠã¨ã‚¹ãƒˆãƒ¼ãƒ³ã‚µã‚¦ãƒŠã®2ç¨®ã€‚ã‚¹ã‚¿ãƒƒãƒ•ã«ã‚ˆã‚‹ãƒ­ã‚¦ãƒªãƒ¥ã‚¦ï¼ˆã‚¢ã‚¦ãƒ•ã‚°ãƒ¼ã‚¹ï¼‰ãŒäººæ°—ï¼ˆè¦äºˆç´„ï¼‰ã€‚', water: 'ç´„16.5â„ƒã€‚æœ¬æ ¼çš„ãªå¤–æ°—æµ´ã‚¹ãƒšãƒ¼ã‚¹ã¯ãªã„ãŒã€ã‚¯ãƒ¼ãƒªãƒ³ã‚°ãƒ«ãƒ¼ãƒ ã§ã‚¯ãƒ¼ãƒ«ãƒ€ã‚¦ãƒ³å¯èƒ½ã€‚', onsen_type: 'å¡©åŒ–ç‰©æ³‰ã€‚æ³‰è³ªã®è‰¯ã„å¤©ç„¶æ¸©æ³‰ã¨é«˜æ¿ƒåº¦ç‚­é…¸æ³‰ã‚‚å®Œå‚™ã€‚', amenity: '1ä¸‡å†Šä»¥ä¸Šã®æ¼«ç”»ã€é›»æºå®Œå‚™ã®ãƒªãƒ©ãƒƒã‚¯ã‚¹ãƒ©ã‚¦ãƒ³ã‚¸ã€ãƒ¬ã‚¹ãƒˆãƒ©ãƒ³ã€å²©ç›¤æµ´ã‚¨ãƒªã‚¢ã€‚' } },
      { id: 2, name: 'é»’æ¹¯ã®æ¸©æ³‰ ã‚†ï½ã‚·ãƒ†ã‚£ãƒ¼è’²ç”°', area: 'å¤§ç”°åŒº', access: 'è’²ç”°é§…ã‹ã‚‰å¾’æ­©ç´„5åˆ†', price: 800, sauna_temp: 90, water_temp: 17, rouryu: false, gaikiyoku: 'ã€‡', onsen: 'â—', features: 'éƒ½å†…ãƒˆãƒƒãƒ—ã‚¯ãƒ©ã‚¹ã®é»’æ¹¯ã€ã‚µé£¯', recommendation: 'ã‚³ã‚¹ãƒ‘æœ€é«˜', description: 'å¤ãè‰¯ãå¥åº·ã‚»ãƒ³ã‚¿ãƒ¼ã®è¶£ã€‚éƒ½å†…å±ˆæŒ‡ã®æ¿ƒã•ã‚’èª‡ã‚‹é»’æ¹¯æ¸©æ³‰ãŒè‡ªæ…¢ã€‚æœ¬æ ¼çš„ãªé»’æ¹¯ã¨ã‚µã‚¦ãƒŠã€æ´»æ°—ã‚ãµã‚Œã‚‹ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ç©ºé–“ãŒéŠ­æ¹¯ä¾¡æ ¼ã§æ¥½ã—ã‚ã‚‹é©šç•°çš„ãªã‚³ã‚¹ãƒˆãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’èª‡ã‚‹æ–½è¨­ã€‚', details: { sauna: 'é èµ¤å¤–ç·šå¼ã§85ï½95â„ƒã€‚é»’æ¹¯ã®ä¿æ¸©åŠ¹æœã‚’è€ƒæ…®ã—ãŸãƒã‚¤ãƒ«ãƒ‰ãªè¨­å®šã€‚', water: '16ï½18â„ƒã€‚ãƒã‚¤ãƒ–ãƒ©ä»˜ãã§ã—ã£ã‹ã‚Šå†·ãŸã„ã€‚', onsen_type: 'é»’æ¹¯ã€‚åœ°ä¸‹120mã‹ã‚‰æ±²ã¿ä¸Šã’ã‚‹æœ¬ç‰©ã®æ¸©æ³‰ã€‚', amenity: 'èˆå°ä»˜ãã®åºƒå¤§ãªæ¹¯ä¸ŠãŒã‚Šã‚¹ãƒšãƒ¼ã‚¹ã€ŒYCKãƒ›ãƒ¼ãƒ«ã€ã§ã¯ã‚«ãƒ©ã‚ªã‚±ã‚„çµ¶å“ã®ã‚µé£¯ãŒæ¥½ã—ã‚ã‚‹ã€‚' } },
      { id: 3, name: 'ã‚¬ãƒ¼ãƒ‡ãƒ³ã‚µã‚¦ãƒŠè’²ç”°', area: 'å¤§ç”°åŒº', access: 'è’²ç”°é§…ã‹ã‚‰å¾’æ­©ç´„2åˆ†', price: 1500, sauna_temp: 110, water_temp: 16, rouryu: true, gaikiyoku: 'Ã—', onsen: 'Ã—', features: '24æ™‚é–“å–¶æ¥­ã€2ç¨®ã®ã‚µã‚¦ãƒŠï¼†æ°´é¢¨å‘‚', recommendation: 'ç†±ã„ã‚µã‚¦ãƒŠ', description: 'ç”·æ€§å°‚ç”¨ã€‚24æ™‚é–“ã„ã¤ã§ã‚‚æœ€é«˜ã®ã‚µã‚¦ãƒŠä½“é¨“ã‚’æ±‚ã‚ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚100â„ƒè¶…ã®é«˜æ¸©ã‚µã‚¦ãƒŠã¨ã‚»ãƒ«ãƒ•ãƒ­ã‚¦ãƒªãƒ¥å¯èƒ½ãªã‚µã‚¦ãƒŠã€ãã—ã¦2ç¨®é¡ã®æ°´é¢¨å‘‚ã‚’å®Œå‚™ã€‚æ¯”è¼ƒçš„ç©ºã„ã¦ã„ã‚‹ç©´å ´çš„å­˜åœ¨ã€‚', details: { sauna: '100â„ƒè¶…ã®ä¼çµ±çš„ãƒ‰ãƒ©ã‚¤ã‚µã‚¦ãƒŠã¨ã€90â„ƒã®ã‚»ãƒ«ãƒ•ãƒ­ã‚¦ãƒªãƒ¥å¯èƒ½ãªã‚µã‚¦ãƒŠã®2ç¨®ã€‚', water: 'ç´„16â„ƒã¨ç´„29â„ƒã®2ç¨®é¡ã€‚ä¸Šç´šè€…ãŒå¥½ã‚€ã€Œå†·å†·äº¤ä»£æµ´ã€ã‚‚å¯èƒ½ã€‚', onsen_type: 'ãªã—', amenity: 'è¦³è‘‰æ¤ç‰©ãŒé…ç½®ã•ã‚ŒãŸå†…æ°—æµ´ã‚¹ãƒšãƒ¼ã‚¹ãŒå……å®Ÿã€‚ã‚«ãƒ—ã‚»ãƒ«ãƒ›ãƒ†ãƒ«ä½µè¨­ã€‚' } },
      { id: 4, name: 'å¤§æ£®æ¹¯ (ãƒ¤ãƒæ£®)', area: 'å¤§ç”°åŒº', access: 'å¤§æ£®ç”ºé§…ã‹ã‚‰å¾’æ­©ç´„3åˆ†', price: 800, sauna_temp: 115, water_temp: 18, rouryu: false, gaikiyoku: 'Ã—', onsen: 'ã€‡', features: 'éƒ½å†…å±ˆæŒ‡ã®æ¿€ç†±ã‚µã‚¦ãƒŠ', recommendation: 'ç†±ã„ã‚µã‚¦ãƒŠ', description: 'ã‚µã‚¦ãƒŠãƒ¼ã‹ã‚‰ç•æ•¬ã®å¿µã‚’è¾¼ã‚ã¦ã€Œãƒ¤ãƒæ£®ã€ã¨å‘¼ã°ã‚Œã‚‹éŠ­æ¹¯ã€‚å¸¸ã«110â„ƒã‚’è¶…ãˆã€æ—¥ã«ã‚ˆã£ã¦ã¯115â„ƒã«é”ã™ã‚‹å¼·çƒˆãªã‚µã‚¦ãƒŠãŒç‰¹å¾´ã€‚ç©¶æ¥µã®ç†±ã•ã‚’æ±‚ã‚ã‚‹è€…ã«ã¨ã£ã¦ã®å·¡ç¤¼åœ°ã€‚', details: { sauna: 'é èµ¤å¤–ç·šå¼ã§å¸¸ã«110â„ƒè¶…ã€‚ã‚¹ãƒˆãƒ¼ãƒ–ä¸Šã®ãƒ¤ã‚«ãƒ³ã‹ã‚‰ã®è’¸æ°—ã§æ¹¿åº¦ãŒåŠ ã‚ã‚Šã€è‚Œã‚’åˆºã™ã‚ˆã†ãªç†±ã•ã€‚', water: 'ç´„15-20â„ƒã€‚ãƒã‚¤ãƒ–ãƒ©ä»˜ãã€‚', onsen_type: 'ãƒˆãƒ«ãƒãƒªãƒ³é¢¨å‘‚', amenity: 'æ˜”ãªãŒã‚‰ã®éŠ­æ¹¯ã®é¢¨æƒ…ã€‚ã‚µã‚¦ãƒŠæ–™é‡‘ã¯ã‚ãšã‹250å††è¿½åŠ ã€‚' } },
      { id: 5, name: 'å“å·ã‚µã‚¦ãƒŠ', area: 'å“å·åŒº', access: 'å¤§äº•ç”ºé§…ã‹ã‚‰å¾’æ­©ç´„1åˆ†', price: 1800, sauna_temp: 85, water_temp: 8.5, rouryu: true, gaikiyoku: 'â—', onsen: 'ã€‡', features: '3ç¨®ã®ã‚µã‚¦ãƒŠã¨3ç¨®ã®æ°´é¢¨å‘‚ã€æœ€æ–°é‹­', recommendation: 'æœ€é«˜ã®ã€Œã¨ã¨ã®ã„ã€', description: '2024å¹´ã‚ªãƒ¼ãƒ—ãƒ³ã®ç¾ä»£ã‚µã‚¦ãƒŠã®ç†æƒ³éƒ·ã€‚ã‚µã‚¦ãƒŠãƒ¼ã®å¤¢ã‚’å…¨ã¦è©°ã‚è¾¼ã‚“ã ã‹ã®ã‚ˆã†ãªè¨­å‚™ãŒé­…åŠ›ã€‚ã‚¢ã‚¦ãƒ•ã‚°ãƒ¼ã‚¹ã‚µã‚¦ãƒŠã€ç‘æƒ³ã‚µã‚¦ãƒŠã€ãã—ã¦ã‚·ãƒ³ã‚°ãƒ«ã‚’å«ã‚€3ç¨®é¡ã®æ°´é¢¨å‘‚ã‚’å®Œå‚™ã€‚å±‹ä¸Šå¤–æ°—æµ´ã‚‚å®Œç’§ã€‚', details: { sauna: 'å¤§å‹ã‚¢ã‚¦ãƒ•ã‚°ãƒ¼ã‚¹ã‚µã‚¦ãƒŠã€ŒKUUã€ã¨ã€ãŠèŒ¶ã‚»ãƒ«ãƒ•ãƒ­ã‚¦ãƒªãƒ¥ã®ç‘æƒ³ã‚µã‚¦ãƒŠã€ŒZENã€ã®2ç¨®ã€‚', water: 'æ°´æ·±140cmã®18â„ƒã€8ï½9â„ƒã®ã€Œã‚·ãƒ³ã‚°ãƒ«ã€ã€30â„ƒã®ã€Œä¸æ„Ÿã€ã®3ç¨®é¡ã€‚', onsen_type: 'å±‹ä¸Šã«éœ²å¤©é¢¨å‘‚ã‚ã‚Šã€‚', amenity: 'ãƒ—ãƒ©ãƒã‚¿ãƒªã‚¦ãƒ ã®ã‚ˆã†ãªå†…æ°—æµ´ã‚¹ãƒšãƒ¼ã‚¹ã€ã‚¸ãƒ£ã‚°ã‚¸ãƒ¼ä»˜ãã®å£ºæ¹¯ã‚‚å®Œå‚™ã€‚æ³Šã¾ã‚Œã‚‹ã‚µã‚¦ãƒŠã€‚' } },
      { id: 6, name: 'ãŠãµã‚ã®ç‹æ§˜ å¤§äº•ç”ºåº—', area: 'å“å·åŒº', access: 'å¤§äº•ç”ºé§…ã‹ã‚‰å¾’æ­©ç´„3åˆ†', price: 1500, sauna_temp: 90, water_temp: 15, rouryu: true, gaikiyoku: 'ã€‡', onsen: 'ã€‡', features: 'ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³ãƒãƒƒãƒ”ãƒ³ã‚°ãƒ­ã‚¦ãƒªãƒ¥', recommendation: 'ä¸€æ—¥ç™’ã•ã‚ŒãŸã„', description: 'ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ†ã‚¤ãƒ¡ãƒ³ãƒˆæ€§ã®é«˜ã„ã‚¹ãƒ¼ãƒ‘ãƒ¼éŠ­æ¹¯ã€‚ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³ãƒãƒƒãƒ”ãƒ³ã‚°ã‚’é§†ä½¿ã—ãŸãƒ€ã‚¤ãƒŠãƒŸãƒƒã‚¯ãªãƒ­ã‚¦ãƒªãƒ¥ã‚¦ã‚·ãƒ§ãƒ¼ãŒåç‰©ã€‚å¤šå½©ãªæµ´æ§½ã‚„ãƒ¬ã‚¹ãƒˆãƒ©ãƒ³ã‚‚å……å®Ÿã—ã€ä¸€æ—¥ä¸­æ¥½ã—ã‚ã‚‹ã€‚', details: { sauna: 'ãƒ­ã‚¦ãƒªãƒ¥ã‚¦ã‚·ãƒ§ãƒ¼ãŒæ¥½ã—ã‚ã‚‹ã€Œç‚ã®é–“ã€ã¨æ¼¢æ–¹å¡©è’¸ã—é¢¨å‘‚ãŒã‚ã‚‹ã€‚', water: 'ç´„15â„ƒã€‚', onsen_type: 'äººå·¥æ¸©æ³‰ã€‚é«˜æ¿ƒåº¦ç‚­é…¸æ³‰ãªã©æµ´æ§½ãŒå¤šå½©ã€‚', amenity: 'é§…ç›´çµã®é˜ªæ€¥å¤§äº•ç”ºã‚¬ãƒ¼ãƒ‡ãƒ³å†…ã«ã‚ã‚Šã‚¢ã‚¯ã‚»ã‚¹è‡³ä¾¿ã€‚äººæ°—ã®ãŸã‚é€±æœ«ã¯æ··é›‘æ³¨æ„ã€‚' } },
      { id: 7, name: 'æ­¦è”µå°å±±æ¸©æ³‰ æ¸…æ°´æ¹¯', area: 'å“å·åŒº', access: 'æ­¦è”µå°å±±é§…ã‹ã‚‰å¾’æ­©ç´„5åˆ†', price: 970, sauna_temp: 90, water_temp: 20, rouryu: false, gaikiyoku: 'ã€‡', onsen: 'â—', features: '2ç¨®ã®æºæ³‰ã€é»’æ¹¯æ°´é¢¨å‘‚', recommendation: 'æ—¥æœ¬ã®é¢¨æƒ…', description: 'æ±äº¬ã®éŠ­æ¹¯æ–‡åŒ–ã®é ‚ç‚¹ã«ç«‹ã¤åæ¹¯ã€‚ã€Œé»’æ¹¯ã€ã¨ã€Œé»„é‡‘ã®æ¹¯ã€ã¨ã„ã†2ç¨®é¡ã®å¥‡è·¡çš„ãªå¤©ç„¶æ¸©æ³‰ãŒæ¹§ãå‡ºã‚‹ã€‚ãƒŸãƒãƒ©ãƒ«è±Šå¯Œãªé»’æ¹¯ã®æ¸©æ³‰æ°´ã§ä½“ã‚’å†·ã‚„ã™ã€Œé»’æ¹¯æ°´é¢¨å‘‚ã€ã¯ã€ä»–ã§ã¯å‘³ã‚ãˆãªã„ç©¶æ¥µã®è´…æ²¢ã€‚', details: { sauna: '90â„ƒå‰å¾Œã®é èµ¤å¤–ç·šå¼ã€‚', water: 'ç´„20â„ƒã€‚ãƒŸãƒãƒ©ãƒ«è±Šå¯Œãªé»’æ¹¯ã®æ°´é¢¨å‘‚ã€‚ãƒã‚¤ãƒ–ãƒ©æœ‰ã€‚', onsen_type: 'ç¾è‚Œã®æ¹¯ã€Œé»’æ¹¯ã€ã¨ç™‚é¤Šæ³‰èªå®šã®ã€Œé»„é‡‘ã®æ¹¯ã€ã®2ç¨®ã€‚', amenity: 'éœ²å¤©ã‚¹ãƒšãƒ¼ã‚¹ã«å¤–æ°—æµ´ç”¨ã®æ¤…å­ã‚‚å®Œå‚™ã€‚éŠ­æ¹¯ã®æ ã‚’è¶…ãˆãŸæº€è¶³æ„Ÿã€‚' } },
      { id: 8, name: 'æœæ—¥æ¹¯æºæ³‰ã‚†ã„ã‚‹', area: 'å·å´å¸‚', access: 'å·å´é§…ã‹ã‚‰ãƒã‚¹ã¾ãŸã¯é›»è»Šä¹—æ›', price: 2130, sauna_temp: 96, water_temp: 13.6, rouryu: true, gaikiyoku: 'â—', onsen: 'â—', features: 'é–¢æ±æœ€å¼·ã‚µã‚¦ãƒŠï¼†æ°´é¢¨å‘‚ã€ã‚¢ã‚¦ãƒ•ã‚°ãƒ¼ã‚¹', recommendation: 'æœ€é«˜ã®ã€Œã¨ã¨ã®ã„ã€', description: 'ã‚µã‚¦ãƒŠå¥½ãã‹ã‚‰ã€Œé–¢æ±æœ€å¼·ã€ã¨åé«˜ã„æ®¿å ‚ã€‚ã‚µã‚¦ãƒŠã€æ°´é¢¨å‘‚ã€å¤–æ°—æµ´ã®ä¸‰è¦ç´ ãŒã™ã¹ã¦æœ€é«˜æ°´æº–ã€‚é–¢æ±æœ€æ·±ã‚’èª‡ã‚‹æ½œæ°´å¯èƒ½ãªæ°´é¢¨å‘‚ã¯å”¯ä¸€ç„¡äºŒã®ä½“é¨“ã€‚åã ãŸã‚‹ç†±æ³¢å¸«ã«ã‚ˆã‚‹ã‚¢ã‚¦ãƒ•ã‚°ãƒ¼ã‚¹ãŒé€£æ—¥é–‹å‚¬ã•ã‚Œã‚‹ã€‚', details: { sauna: 'é«˜æ¸©ã‚µã‚¦ãƒŠã¨ã‚¢ã‚¦ãƒ•ã‚°ãƒ¼ã‚¹ç‰¹åŒ–ã‚µã‚¦ãƒŠã®2ç¨®ã€‚å¯Œå£«ã®æº¶å²©çŸ³ã‚’ä½¿ç”¨ã€‚', water: 'ç´„13.6â„ƒã€‚é–¢æ±æœ€æ·±ã®æ°´æ·±150cmï¼ˆç”·æ€§ç”¨ï¼‰ã§æ½œæ°´å¯èƒ½ã€‚äº•æˆ¸æ°´ã‹ã‘æµã—ã€‚', onsen_type: 'ç¥ç€è‰²ã®è‰¯è³ªãªå¤©ç„¶æ¸©æ³‰ã¨å¼·ç‚­é…¸æ³‰ã€‚', amenity: 'å°å­¦ç”Ÿæœªæº€å…¥é¤¨ä¸å¯ã®å¤§äººå‘ã‘ç©ºé–“ã€‚åŠéœ²å¤©ã®ä¼‘æ†©ã‚¹ãƒšãƒ¼ã‚¹ãŒå……å®Ÿã€‚' } },
      { id: 9, name: 'ãƒ¬ãƒƒã‚¯ã‚¹ã‚¤ãƒ³å·å´', area: 'å·å´å¸‚', access: 'å·å´é§…ã‹ã‚‰å¾’æ­©ç´„5åˆ†', price: 1400, sauna_temp: 100, water_temp: 15.3, rouryu: true, gaikiyoku: 'ã€‡', onsen: 'ã€‡', features: 'åç‰©ã€Œæ°·ãƒ­ã‚¦ãƒªãƒ¥ã€ã€é§…è¿‘', recommendation: 'ç†±ã„ã‚µã‚¦ãƒŠ', description: 'ç”·æ€§å°‚ç”¨ã€‚éƒ½å¸‚å‹ã‚µã‚¦ãƒŠã®ç†æƒ³å½¢ã€‚100â„ƒè¶…ã®é«˜æ¸©é«˜æ¹¿ã‚µã‚¦ãƒŠã¨ã€åç‰©ã®ã€Œæ°·ãƒ­ã‚¦ãƒªãƒ¥ã€ãŒã‚‚ãŸã‚‰ã™å¼·çƒˆãªç†±ä½“é¨“ãŒé­…åŠ›ã€‚é§…ã‹ã‚‰ã®ã‚¢ã‚¯ã‚»ã‚¹ã‚‚æŠœç¾¤ã§ã€ä»•äº‹å¸°ã‚Šã®ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ã«æœ€é©ã€‚', details: { sauna: '100â„ƒè¶…ã®æœ¬æ ¼æ´¾ã€‚30åˆ†ã”ã¨ã®ã‚ªãƒ¼ãƒˆãƒ­ã‚¦ãƒªãƒ¥ã«åŠ ãˆã€å·¨å¤§ãªæ°·å¡Šã‚’ä¹—ã›ã‚‹ã€Œæ°·ãƒ­ã‚¦ãƒªãƒ¥ã€ãŒåç‰©ã€‚', water: 'ç´„15.3â„ƒã€‚ã‚µã‚¦ãƒŠã¨ã®ç›¸æ€§æŠœç¾¤ã€‚', onsen_type: 'éœ²å¤©é¢¨å‘‚ã‚ã‚Šã€‚', amenity: 'ç·‘ã«å›²ã¾ã‚ŒãŸéœ²å¤©å¤–æ°—æµ´ã‚¹ãƒšãƒ¼ã‚¹ã«ã¯37â„ƒã®ä¸æ„Ÿæ¹¯ã‚‚è¨­ç½®ã€‚' } },
      { id: 10, name: 'æºå£æ¸©æ³‰ å–œæ¥½é‡Œ', area: 'å·å´å¸‚', access: 'æ­¦è”µæºãƒå£é§…ã‹ã‚‰ãƒã‚¹', price: 1030, sauna_temp: 88, water_temp: 19, rouryu: false, gaikiyoku: 'ã€‡', onsen: 'â—', features: 'å¤§äººã®éš ã‚Œå®¶ã€é™ã‹ãªç’°å¢ƒ', recommendation: 'æ—¥æœ¬ã®é¢¨æƒ…', description: 'å°å­¦ç”Ÿä»¥ä¸‹ã®å…¥é¤¨ã‚’åˆ¶é™ã—ã€ã€Œå¤§äººã®ãŸã‚ã®ç©ºé–“ã€ã‚’å¾¹åº•ã—ãŸæ¸©æ³‰æ–½è¨­ã€‚æ—¥å¸¸ã‹ã‚‰åˆ‡ã‚Šé›¢ã•ã‚ŒãŸç©ã‚„ã‹ãªæ™‚é–“ãŒæµã‚Œã‚‹ã€‚å–§é¨’ã‚’é›¢ã‚Œã€ãŸã ã²ãŸã™ã‚‰ã«ç™’ã—ã‚’æ±‚ã‚ã‚‹æ—¥ã«è¨ªã‚ŒãŸã„ä¸Šè³ªãªéš ã‚Œå®¶ã€‚', details: { sauna: 'ã‚¿ãƒ¯ãƒ¼å‹ã®ãƒ‰ãƒ©ã‚¤ã‚µã‚¦ãƒŠï¼ˆç´„88â„ƒï¼‰ã¨ã€äººæ°—ã®ã‚ˆã‚‚ãå¡©ã‚¹ãƒãƒ¼ãƒ ã‚µã‚¦ãƒŠã®2ç¨®é¡ã€‚', water: 'ç´„19â„ƒã€‚ã‚„ã‚„å°ã•ã„ã¨ã®å£°ã‚‚ã‚ã‚‹ã€‚', onsen_type: 'æ³‰è³ªã«å®šè©•ã®ã‚ã‚‹å¤©ç„¶æ¸©æ³‰ã¨é«˜æ¿ƒåº¦ç‚­é…¸æ³‰ã€‚', amenity: 'ãƒ•ãƒªãƒ¼ã‚¿ã‚¤ãƒ åˆ¶ã§æ‰‹é ƒãªä¾¡æ ¼ã®å²©ç›¤æµ´ãŒäººæ°—ã€‚éœ²å¤©é¢¨å‘‚å‘¨ã‚Šã®ä¼‘æ†©æ¤…å­ã§ã®å¤–æ°—æµ´ã¯æ ¼åˆ¥ã€‚' } },
    ];

    const priorityFilters = [
      { key: 'all', label: 'ã™ã¹ã¦è¡¨ç¤º' },
      { key: 'æœ€é«˜ã®ã€Œã¨ã¨ã®ã„ã€', label: 'ğŸ‘‘ æœ€é«˜ã®ã€Œã¨ã¨ã®ã„ã€' },
      { key: 'ä¸€æ—¥ç™’ã•ã‚ŒãŸã„', label: 'ğŸ›€ ä¸€æ—¥ç™’ã•ã‚ŒãŸã„' },
      { key: 'æ—¥æœ¬ã®é¢¨æƒ…', label: 'ğŸŒ¸ æ—¥æœ¬ã®é¢¨æƒ…' },
      { key: 'ã‚³ã‚¹ãƒ‘æœ€é«˜', label: 'ğŸ’° ã‚³ã‚¹ãƒ‘æœ€é«˜' },
      { key: 'ç†±ã„ã‚µã‚¦ãƒŠ', label: 'ğŸ”¥ ç†±ã„ã‚µã‚¦ãƒŠ' },
    ];

    let saunaChart = null;

    document.addEventListener('DOMContentLoaded', () => {
      const saunaGrid = document.getElementById('sauna-grid');
      const priorityFiltersContainer = document.getElementById('priority-filters');
      const detailsPanel = document.getElementById('details-panel');
      const detailsOverlay = document.getElementById('details-overlay');
      const closePanelBtn = document.getElementById('close-panel-btn');

      function renderPriorityFilters() {
        priorityFiltersContainer.innerHTML = priorityFilters.map(filter => `
                <button data-filter="${filter.key}" class="priority-btn ${filter.key === 'all' ? 'active' : ''} px-4 py-2 border rounded-full text-sm font-semibold transition-colors duration-200 ease-in-out hover:bg-blue-500 hover:text-white border-gray-300">
                    ${filter.label}
                </button>
            `).join('');
      }

      function renderSaunaCards(data) {
        saunaGrid.innerHTML = data.map(sauna => `
                <div class="sauna-card bg-white rounded-xl shadow-md overflow-hidden transform hover:-translate-y-1 transition-all duration-300 ease-in-out cursor-pointer" data-id="${sauna.id}">
                    <div class="p-6">
                        <div class="flex justify-between items-start">
                             <p class="text-xs text-blue-500 font-bold">${sauna.area}</p>
                             <div class="text-right">
                                <span class="tag bg-blue-100 text-blue-800">Â¥${sauna.price.toLocaleString()}~</span>
                             </div>
                        </div>
                        <h3 class="font-bold text-xl mt-1 mb-2">${sauna.name}</h3>
                        <p class="text-gray-600 text-sm mb-4 h-10">${sauna.description.substring(0, 45)}...</p>
                        <div class="flex justify-between items-center text-sm mb-4">
                            <div class="text-center">
                                <p class="font-bold text-red-500 text-lg">${sauna.sauna_temp}â„ƒ</p>
                                <p class="text-xs text-gray-500">ã‚µã‚¦ãƒŠ</p>
                            </div>
                             <div class="text-center">
                                <p class="font-bold text-blue-500 text-lg">${sauna.water_temp}â„ƒ</p>
                                <p class="text-xs text-gray-500">æ°´é¢¨å‘‚</p>
                            </div>
                            <div class="text-center">
                                <p class="font-bold text-green-500 text-lg">${sauna.gaikiyoku}</p>
                                <p class="text-xs text-gray-500">å¤–æ°—æµ´</p>
                            </div>
                        </div>
                        <div class="flex flex-wrap gap-2 text-xs">
                           ${sauna.rouryu ? '<span class="tag bg-orange-100 text-orange-800">ãƒ­ã‚¦ãƒªãƒ¥æœ‰</span>' : ''}
                           ${sauna.onsen === 'â—' ? '<span class="tag bg-yellow-100 text-yellow-800">å¤©ç„¶æ¸©æ³‰</span>' : ''}
                           ${sauna.onsen === 'ã€‡' ? '<span class="tag bg-yellow-100 text-yellow-800">æ¸©æ³‰æœ‰</span>' : ''}
                        </div>
                    </div>
                </div>
            `).join('');
      }

      function updateChart(data) {
        const chartData = {
          datasets: [{
            label: 'ã‚µã‚¦ãƒŠ',
            data: data.map(s => ({ x: s.sauna_temp, y: s.water_temp, r: Math.max(s.price / 100, 5), name: s.name })),
            backgroundColor: 'rgba(59, 130, 246, 0.6)',
            borderColor: 'rgba(59, 130, 246, 1)',
          }]
        };

        if (saunaChart) {
          saunaChart.data = chartData;
          saunaChart.update();
        } else {
          const ctx = document.getElementById('saunaChart').getContext('2d');
          saunaChart = new Chart(ctx, {
            type: 'bubble',
            data: chartData,
            options: {
              responsive: true,
              maintainAspectRatio: false,
              plugins: {
                legend: {
                  display: false
                },
                tooltip: {
                  callbacks: {
                    label: function (context) {
                      const d = context.raw;
                      return `${d.name}: ã‚µã‚¦ãƒŠ ${d.x}â„ƒ / æ°´é¢¨å‘‚ ${d.y}â„ƒ`;
                    }
                  }
                }
              },
              scales: {
                x: {
                  title: {
                    display: true,
                    text: 'ã‚µã‚¦ãƒŠæ¸©åº¦ (â„ƒ)'
                  }
                },
                y: {
                  title: {
                    display: true,
                    text: 'æ°´é¢¨å‘‚æ¸©åº¦ (â„ƒ)'
                  },
                  reverse: true
                }
              }
            }
          });
        }
      }

      function showDetails(id) {
        const sauna = saunaData.find(s => s.id == id);
        if (!sauna) return;

        const detailsContent = document.getElementById('details-content');
        detailsContent.innerHTML = `
                <p class="text-sm font-bold text-blue-500">${sauna.area}</p>
                <h2 class="text-3xl font-bold mt-1 mb-4">${sauna.name}</h2>
                <p class="text-gray-600 mb-6">${sauna.description}</p>

                <div class="grid grid-cols-2 gap-4 text-center mb-6 border-y py-4">
                    <div>
                        <p class="text-xs text-gray-500">ã‚µã‚¦ãƒŠæ¸©åº¦</p>
                        <p class="text-2xl font-bold text-red-500">${sauna.sauna_temp}â„ƒ</p>
                    </div>
                    <div>
                        <p class="text-xs text-gray-500">æ°´é¢¨å‘‚æ¸©åº¦</p>
                        <p class="text-2xl font-bold text-blue-500">${sauna.water_temp}â„ƒ</p>
                    </div>
                    <div>
                        <p class="text-xs text-gray-500">æ–™é‡‘ç›®å®‰</p>
                        <p class="text-2xl font-bold">Â¥${sauna.price.toLocaleString()}</p>
                    </div>
                    <div>
                        <p class="text-xs text-gray-500">å¤–æ°—æµ´</p>
                        <p class="text-2xl font-bold text-green-500">${sauna.gaikiyoku}</p>
                    </div>
                </div>

                <div class="space-y-4 text-sm">
                    <div>
                        <h4 class="font-bold mb-1">ğŸ”¥ ã‚µã‚¦ãƒŠ</h4>
                        <p class="text-gray-700">${sauna.details.sauna}</p>
                    </div>
                     <div>
                        <h4 class="font-bold mb-1">ğŸ’§ æ°´é¢¨å‘‚</h4>
                        <p class="text-gray-700">${sauna.details.water}</p>
                    </div>
                     <div>
                        <h4 class="font-bold mb-1">â™¨ï¸ æ¸©æ³‰</h4>
                        <p class="text-gray-700">${sauna.details.onsen_type}</p>
                    </div>
                     <div>
                        <h4 class="font-bold mb-1">ğŸ›‹ï¸ ã‚¢ãƒ¡ãƒ‹ãƒ†ã‚£ãƒ»ãã®ä»–</h4>
                        <p class="text-gray-700">${sauna.details.amenity}</p>
                    </div>
                     <div>
                        <h4 class="font-bold mb-1">ğŸ“ ã‚¢ã‚¯ã‚»ã‚¹</h4>
                        <p class="text-gray-700">${sauna.access}</p>
                    </div>
                </div>
            `;

        detailsPanel.classList.add('is-visible');
        detailsOverlay.classList.remove('hidden');
        document.body.style.overflow = 'hidden';
      }

      function hideDetails() {
        detailsPanel.classList.remove('is-visible');
        detailsOverlay.classList.add('hidden');
        document.body.style.overflow = '';
      }

      function filterAndRender(filterKey) {
        const filteredData = filterKey === 'all'
          ? saunaData
          : saunaData.filter(s => s.recommendation === filterKey);

        renderSaunaCards(filteredData);
        updateChart(filteredData);

        document.querySelectorAll('.priority-btn').forEach(btn => {
          btn.classList.toggle('active', btn.dataset.filter === filterKey);
        });
      }

      priorityFiltersContainer.addEventListener('click', (e) => {
        if (e.target.matches('.priority-btn')) {
          const filterKey = e.target.dataset.filter;
          filterAndRender(filterKey);
        }
      });

      saunaGrid.addEventListener('click', (e) => {
        const card = e.target.closest('.sauna-card');
        if (card) {
          showDetails(card.dataset.id);
        }
      });

      closePanelBtn.addEventListener('click', hideDetails);
      detailsOverlay.addEventListener('click', hideDetails);

      renderPriorityFilters();
      filterAndRender('all');
    });
  </script>
</body>

</html>